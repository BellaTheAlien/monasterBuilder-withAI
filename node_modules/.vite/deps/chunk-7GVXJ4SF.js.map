{
  "version": 3,
  "sources": ["../../@langchain/core/dist/utils/function_calling.js"],
  "sourcesContent": ["import { isLangChainTool, } from \"../tools/types.js\";\nimport { toJsonSchema } from \"./json_schema.js\";\n// These utility functions were moved to a more appropriate location,\n// but we still export them here for backwards compatibility.\nexport { isStructuredTool, isStructuredToolParams, isRunnableToolLike, isLangChainTool, } from \"../tools/types.js\";\n/**\n * Formats a `StructuredTool` or `RunnableToolLike` instance into a format\n * that is compatible with OpenAI function calling. If `StructuredTool` or\n * `RunnableToolLike` has a zod schema, the output will be converted into a\n * JSON schema, which is then used as the parameters for the OpenAI tool.\n *\n * @param {StructuredToolInterface | RunnableToolLike} tool The tool to convert to an OpenAI function.\n * @returns {FunctionDefinition} The inputted tool in OpenAI function format.\n */\nexport function convertToOpenAIFunction(tool, fields) {\n    // @TODO 0.3.0 Remove the `number` typing\n    const fieldsCopy = typeof fields === \"number\" ? undefined : fields;\n    return {\n        name: tool.name,\n        description: tool.description,\n        parameters: toJsonSchema(tool.schema),\n        // Do not include the `strict` field if it is `undefined`.\n        ...(fieldsCopy?.strict !== undefined ? { strict: fieldsCopy.strict } : {}),\n    };\n}\n/**\n * Formats a `StructuredTool` or `RunnableToolLike` instance into a\n * format that is compatible with OpenAI tool calling. If `StructuredTool` or\n * `RunnableToolLike` has a zod schema, the output will be converted into a\n * JSON schema, which is then used as the parameters for the OpenAI tool.\n *\n * @param {StructuredToolInterface | Record<string, any> | RunnableToolLike} tool The tool to convert to an OpenAI tool.\n * @returns {ToolDefinition} The inputted tool in OpenAI tool format.\n */\nexport function convertToOpenAITool(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntool, fields) {\n    // @TODO 0.3.0 Remove the `number` typing\n    const fieldsCopy = typeof fields === \"number\" ? undefined : fields;\n    let toolDef;\n    if (isLangChainTool(tool)) {\n        toolDef = {\n            type: \"function\",\n            function: convertToOpenAIFunction(tool),\n        };\n    }\n    else {\n        toolDef = tool;\n    }\n    if (fieldsCopy?.strict !== undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        toolDef.function.strict = fieldsCopy.strict;\n    }\n    return toolDef;\n}\n"],
  "mappings": ";;;;;;;;AAcO,SAAS,wBAAwB,MAAM,QAAQ;AAElD,QAAM,aAAa,OAAO,WAAW,WAAW,SAAY;AAC5D,SAAO;AAAA,IACH,MAAM,KAAK;AAAA,IACX,aAAa,KAAK;AAAA,IAClB,YAAY,aAAa,KAAK,MAAM;AAAA;AAAA,IAEpC,GAAI,YAAY,WAAW,SAAY,EAAE,QAAQ,WAAW,OAAO,IAAI,CAAC;AAAA,EAC5E;AACJ;AAUO,SAAS,oBAEhB,MAAM,QAAQ;AAEV,QAAM,aAAa,OAAO,WAAW,WAAW,SAAY;AAC5D,MAAI;AACJ,MAAI,gBAAgB,IAAI,GAAG;AACvB,cAAU;AAAA,MACN,MAAM;AAAA,MACN,UAAU,wBAAwB,IAAI;AAAA,IAC1C;AAAA,EACJ,OACK;AACD,cAAU;AAAA,EACd;AACA,MAAI,YAAY,WAAW,QAAW;AAElC,YAAQ,SAAS,SAAS,WAAW;AAAA,EACzC;AACA,SAAO;AACX;",
  "names": []
}
